(self.webpackChunkmodules_plugins=self.webpackChunkmodules_plugins||[]).push([["views/plugins"],{9539:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return p}});var l=o(520),a=o(5428);function n(e,t){if(0===arguments.length||!e)return null;const o=t||"{y}-{m}-{d} {h}:{i}:{s}";let l;"object"==typeof e?l=e:("string"==typeof e&&/^[0-9]+$/.test(e)?e=parseInt(e):"string"==typeof e&&(e=e.replace(new RegExp(/-/gm),"/").replace("T"," ").replace(new RegExp(/\.\d{3}/gm),"")),"number"==typeof e&&10===e.toString().length&&(e*=1e3),l=new Date(e));const a={y:l.getFullYear(),m:l.getMonth()+1,d:l.getDate(),h:l.getHours(),i:l.getMinutes(),s:l.getSeconds(),a:l.getDay()};return o.replace(/{([ymdhisa])+}/g,((e,t)=>{let o=a[t];return"a"===t?["日","一","二","三","四","五","六"][o]:(e.length>0&&o<10&&(o="0"+o),o||0)}))}const r={class:"page"},i={class:"search-box"},c={class:"right-tool"},d={class:"table-box"};var p={__name:"plugins",setup(e){let t=(0,l.ref)([]);const o=(0,l.ref)({pageNo:1,pageSize:20,total:0,name:""});let p=(0,l.ref)(!1);function s(){var e;p.value=!0,(e=o.value,axios.post("/api/plugins/page",e)).then((e=>{t.value=e.data.list,o.value.total=e.data.total,p.value=!1}))}return s(),(e,u)=>{const m=(0,l.resolveComponent)("el-input"),h=(0,l.resolveComponent)("el-form-item"),f=(0,l.resolveComponent)("el-button"),g=(0,l.resolveComponent)("el-form"),v=(0,l.resolveComponent)("el-col"),w=(0,l.resolveComponent)("el-row"),C=(0,l.resolveComponent)("el-table-column"),N=(0,l.resolveComponent)("el-tag"),V=(0,l.resolveComponent)("el-popconfirm"),x=(0,l.resolveComponent)("el-table"),b=(0,l.resolveComponent)("el-pagination"),k=(0,l.resolveDirective)("loading");return(0,l.openBlock)(),(0,l.createElementBlock)("div",r,[(0,l.createElementVNode)("div",i,[(0,l.createVNode)(g,{inline:!0,model:o.value,class:"demo-form-inline",ref:"searchFormRef"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(h,{label:"插件名称"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(m,{modelValue:o.value.name,"onUpdate:modelValue":u[0]||(u[0]=e=>o.value.name=e),placeholder:"请输入插件名称",clearable:""},null,8,["modelValue"])])),_:1}),(0,l.createVNode)(h,null,{default:(0,l.withCtx)((()=>[(0,l.createVNode)(f,{type:"primary",onClick:s,icon:(0,l.unref)(a.olm)},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)("查询")])),_:1},8,["icon"]),(0,l.createVNode)(f,{icon:(0,l.unref)(a.hYj),onClick:e.resetSearchForm},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)("重置")])),_:1},8,["icon","onClick"])])),_:1})])),_:1},8,["model"])]),(0,l.createVNode)(w,{gutter:10,class:"mb8"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(v,{span:1.5}),(0,l.createElementVNode)("div",c,[(0,l.createVNode)(f,{icon:(0,l.unref)(a.hYj),circle:"",onClick:s},null,8,["icon"])])])),_:1}),(0,l.createElementVNode)("div",d,[(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createBlock)(x,{data:(0,l.unref)(t),style:{width:"100%",height:"100%"},"row-key":"id"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(C,{prop:"name",label:"插件名称","min-width":"150"}),(0,l.createVNode)(C,{prop:"path",label:"安装路径","min-width":"150"}),(0,l.createVNode)(C,{prop:"desc",label:"描述","min-width":"240"}),(0,l.createVNode)(C,{prop:"version",label:"插件版本","min-width":"120"}),(0,l.createVNode)(C,{prop:"author",label:"插件作者","min-width":"120"}),(0,l.createVNode)(C,{prop:"status",label:"插件状态","min-width":"120"},{default:(0,l.withCtx)((e=>[0===e.row.status?((0,l.openBlock)(),(0,l.createBlock)(N,{key:0,class:"ml-2",type:"danger"},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)("禁用")])),_:1})):((0,l.openBlock)(),(0,l.createBlock)(N,{key:1,class:"ml-2",type:"success"},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)("启用")])),_:1}))])),_:1}),(0,l.createVNode)(C,{prop:"createTime",label:"安装时间","min-width":"120"},{default:(0,l.withCtx)((e=>[(0,l.createElementVNode)("span",null,(0,l.toDisplayString)((0,l.unref)(n)(e.row.createTime)),1)])),_:1}),(0,l.createVNode)(C,{label:"操作",width:"240",fixed:"right"},{default:(0,l.withCtx)((t=>[(0,l.createVNode)(f,{size:"small",type:"primary",link:"",icon:(0,l.unref)(a.I8b),onClick:o=>e.handleUpdate(t.row)},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)("修改")])),_:2},1032,["icon","onClick"]),(0,l.createVNode)(V,{"confirm-button-text":"确认","cancel-button-text":"取消",icon:(0,l.unref)(a.cEj),"icon-color":"#626AEF",title:"确定要删除该角色吗?",onConfirm:o=>e.handleDelete(t.row)},{reference:(0,l.withCtx)((()=>[(0,l.createVNode)(f,{size:"small",type:"primary",link:"",icon:(0,l.unref)(a.HG3)},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)("卸载")])),_:1},8,["icon"])])),_:2},1032,["icon","onConfirm"])])),_:1})])),_:1},8,["data"])),[[k,(0,l.unref)(p)]]),(0,l.createVNode)(b,{"current-page":o.value.pageNo,"onUpdate:currentPage":u[1]||(u[1]=e=>o.value.pageNo=e),"page-size":o.value.pageSize,"onUpdate:pageSize":u[2]||(u[2]=e=>o.value.pageSize=e),"page-sizes":[10,20,30,50],layout:"total,sizes,prev, pager, next, jumper",background:"",small:"",onChange:s,total:o.value.total},null,8,["current-page","page-size","total"])])])}}}},520:function(e,t,o){e.exports=o(805)(6384)}}]);